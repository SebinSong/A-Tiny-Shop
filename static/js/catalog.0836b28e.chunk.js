"use strict";(self.webpackChunka_tiny_shop=self.webpackChunka_tiny_shop||[]).push([[701],{5415:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(7294),a=n(9704),o=n(8226),l=n(2436);function i(e){var t=e.item,n=void 0===t?null:t,a=e.children,l=void 0===a?"":a,i=e.onChange,c=void 0===i?null:i,u=e.value,s=void 0!==u&&u,m=l||(null==n?void 0:n.name)||"",f="checkbox-".concat(m);return r.createElement("span",{className:"checkbox-container ".concat((0,o.og)("is-on",s))},r.createElement("span",{className:"checkbox__box"},r.createElement("span",{className:"mark"}),r.createElement("input",{id:f,type:"checkbox",className:"checkbox__input",checked:s,onChange:function(){c&&(c&&c(n||{id:m,name:m},!s))}})),r.createElement("label",{className:"checkbox__label",htmlFor:f},m))}var c=(0,r.memo)(i),u=n(8580);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.filterName,n=void 0===t?"":t,i=e.filterId,m=void 0===i?"":i,f=e.items,d=void 0===f?[]:f,p=(0,a.I0)(),v=(0,a.v9)((function(e){return e.catalog.filters[m]})),y=s((0,r.useState)(!1),2),h=y[0],g=y[1],E=(0,r.useCallback)((function(e,t){p((0,l.cT)({filterType:m,filterItem:e.id}))}));return r.createElement("div",{className:"filter-group ".concat((0,o.og)("is-closed",h))},r.createElement("span",{className:"group-name",onClick:function(){return g((function(e){return!e}))}},r.createElement("span",{className:"text"},n),r.createElement(u.Z,{classes:"expand-arrow"},"arrow_circle_up")),r.createElement("div",{className:"items"},d.map((function(e){return r.createElement(c,{key:e.id,item:e,onChange:E,value:v.includes(e.id)},e.name)}))))}var d=(0,r.memo)(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){return r.createElement("section",{className:"catalog-page__category-filter"},r.createElement("div",{className:"category-filter__section-title"},r.createElement("span",{className:"sub"},"Filters"),r.createElement("h1",null,"Categories")),r.createElement("div",{className:"category-filter__filters"},l.kE.map((function(e){return r.createElement(d,p({key:e.filterName},e))}))))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.classes,n=void 0===t?"":t,a=e.initialText,o=void 0===a?"Select option":a,l=e.initialItem,i=void 0===l?null:l,c=e.options,s=void 0===c?[]:c,m=e.onItemSelect,f=void 0===m?null:m,d=(0,r.useRef)(),p=y((0,r.useState)(i?i.name:o),2),v=p[0],h=p[1],g=y((0,r.useState)(!1),2),E=g[0],b=g[1],_=["dropdown-container",n,E&&"is-expanded"].filter(Boolean).join(" ");return r.createElement("div",{className:_,tabIndex:"1"},r.createElement("button",{className:"dropdown__selected-item",onClick:function(){b((function(e){return!e}))},ref:d},r.createElement("span",{className:"text"},v),r.createElement(u.Z,{classes:"selected-item__arrow"},"expand_more")),r.createElement("ul",{className:"dropdown__option-list"},s.map((function(e){return r.createElement("li",{key:e.id,className:"dropdown__option-list-item",onClick:function(){return function(e){h(e.name),b((function(e){return!e})),f&&f(e),d.current.focus()}(e)}},e.name)}))))}var E=(0,r.memo)(g),b=n(1995),_=n(4572);function N(e){var t=e.productInfo,n=void 0===t?null:t,o=e.classes,l=void 0===o?"":o,i=e.tag,c=void 0===i?"div":i,u=e.overrideBtnClick,s=void 0===u?null:u,m=(0,a.I0)();if(!n)return null;var f=n.imgPath,d=n.name,p=n.price,v=r.createElement(r.Fragment,null,r.createElement("div",{className:"product-card__img-container"},r.createElement(b.Z,{src:f,alt:d,imageMinHeight:200})),r.createElement("div",{className:"product-card__item-summary"},r.createElement("span",{className:"item-summary__name"},d),r.createElement("span",{className:"item-summary__price"},"$ ",p.toFixed(2))),r.createElement("button",{className:"is-secondary item-summary__view-detail-btn",onClick:function(){s?s(n):m((0,_.K1)(n))}},"View Detail"));return(0,r.createElement)(c,{className:"product-card ".concat(l)},v)}var w=(0,r.memo)(N);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.itemList,n=e.itemRender;return r.createElement("div",{className:"masonry__column"},t.map((function(e){return n(e)})))}function x(e){var t=e.classes,n=void 0===t?"":t,a=e.list,l=void 0===a?null:a,i=e.itemRender,c=void 0===i?null:i,u=e.noPadding,s=void 0!==u&&u,m=e.itemWidth,f=void 0===m?260:m,d=e.gap,p=void 0===d?15:d,v=(0,r.useRef)(null),y=S((0,r.useState)(1),2),h=y[0],g=y[1];(0,r.useEffect)((function(){var e=v.current,t=function(){var t,n,r=parseFloat((t=e,n="width",window.getComputedStyle(t)[n])),a=s?r:r-2*p,o=f+2,l=Math.floor(a/o),i=a%o;g(l<=1?1:function(){return i>=p*(l-1)?l:l-1})};return window.addEventListener("resize",t),e.style.setProperty("--masonry-item-width","".concat(f,"px")),e.style.setProperty("--masonry-gap","".concat(p,"px")),t(),function(){window.removeEventListener("resize",t)}}),[]);var E=[n,s&&"no-padding"].filter(Boolean).join(" "),b=(0,o.BR)(h).map((function(){return[]}));return l.forEach((function(e,t){b[t%h].push(e)})),r.createElement("div",{ref:v,className:"masonry-container ".concat(E)},b.map((function(e,t){return r.createElement(A,{key:"col-".concat(t),itemList:e,itemRender:c})})))}var I=(0,r.memo)(x),C=n(7560);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=[{id:"most-popular",name:"Most popular"},{id:"top-rated",name:"Top rated"},{id:"lowest-price",name:"Lowest price"},{id:"highest-price",name:"highest price"}],M=null;var L=function(e){var t=(0,a.I0)(),n=(0,a.v9)(l.ZQ),o=(0,a.v9)(l.Cz),i=j((0,r.useState)(!1),2),c=i[0],u=i[1],s=j((0,r.useState)(C.Z),2),m=s[0],f=s[1];(0,r.useEffect)((function(){u(!0);var e=C.Z.filter((function(e){return["sleeve","gender","lightDark"].every((function(t){return p(e,t,n[t])}))}));if(o){var t=l._L[o];t&&e.sort(t)}clearTimeout(M),M=setTimeout((function(){u(!1),f(e)}),200+Math.floor(100*Math.random()))}),[n,o]);var d=(0,r.useCallback)((function(e){t((0,l.HD)(e.id))})),p=function(e,t,n){return 0===n.length||n.includes(e[t])},v=(0,r.useCallback)((function(e){return r.createElement(w,{classes:"product-list__item",tag:"div",key:e.id,productInfo:e})}));return r.createElement("section",{className:"catalog-page__product-list"},r.createElement("div",{className:"product-list__section-header"},r.createElement("div",{className:"section-header__text"},r.createElement("h1",null,"Available products"),r.createElement("span",{className:"items-count"},r.createElement("span",{className:"slash"},"/"),r.createElement("span",{className:"count"},r.createElement("span",{className:"num"},c?0:m.length),"items found"))),r.createElement("div",{className:"sort-by"},r.createElement("span",{className:"text"},"Sort by :"),r.createElement(E,{classes:"sort-by-dropdown",options:T,onItemSelect:d}))),r.createElement("div",{className:"product-list__content"},c?r.createElement("p",null,"Loading..."):r.createElement(I,{itemWidth:240,gap:32,list:m,itemRender:v})))};function R(e){return r.createElement("main",{className:"page catalog"},r.createElement("div",{className:"catalog-page__header"},r.createElement("h1",null,"Catalog")),r.createElement("div",{className:"catalog-page__content"},r.createElement(v,null),r.createElement(L,null)))}var Z=(0,r.memo)(R)}}]);